# –ü–ª–∞–Ω –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞: –Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Bun + React

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–º –ø–ª–∞–Ω–æ–º –ø–µ—Ä–µ—Ö–æ–¥–∞ `grezwanderer3` –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

## üéØ –¶–µ–ª—å
–ü–µ—Ä–µ–π—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, —É—Å—Ç—Ä–∞–Ω–∏–≤ –∏–∑–±—ã—Ç–æ—á–Ω—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π –∏ —É–ø—Ä–æ—Å—Ç–∏–≤ —Ä–∞–∑–≤–∏—Ç–∏–µ.

## ÔøΩÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –∏ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

- **Runtime**: **Bun 1.x** (–µ–¥–∏–Ω—ã–π —Ä–∞–Ω—Ç–∞–π–º, –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∏ –±–∞–Ω–¥–ª–µ—Ä).
- **Frontend**: **React 19** + **Vite** + **Tailwind CSS v4**.
- **Backend**: **ElysiaJS** + **bun:sqlite** + **Redis** (Pub/Sub).
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: **Monorepo (Bun Workspaces)**. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `apps/*` (—Ñ—Ä–æ–Ω—Ç/–±—ç–∫) –∏ `packages/*` (shared logic). –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –≤—Ä–æ–¥–µ `copy-shared.js`, —Ç–∞–∫ –∫–∞–∫ –±—ç–∫–µ–Ω–¥ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ –∏–∑ `packages/shared`.

## ÔøΩÔ∏è –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ª–∞–¥–∫–∏ –≤ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç:

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (Centralized Logger)
–ú—ã —Å–æ–∑–¥–∞–µ–º `@repo/shared/lib/logger.ts`, –∫–æ—Ç–æ—Ä—ã–π:
- **–£–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –≤—ã–≤–æ–¥**: –ó–∞–º–µ–Ω—è–µ—Ç —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ `console.log` –∏ `fetch` –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (`logger.info`, `logger.error`).
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç Metadata (DeviceID, UserID, SessionID).
- **Transport**: –í DEV –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å, –≤ PROD –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ª–æ–≥–∏ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π Ingestion Server (–∫–∞–∫ —ç—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `fetch` –≤ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ).

- **API (Eden Treaty)**: –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–ª–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π —Å—Ç–µ–∫.

## üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ê—Å—Å–µ—Ç–∞–º–∏ –∏ –û—à–∏–±–∫–∞–º–∏

### –ê—Å—Å–µ—Ç—ã (Diegetic UI)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: `apps/web/public` –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏.
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –†–µ–µ—Å—Ç—Ä –∞—Å—Å–µ—Ç–æ–≤ –≤ `@repo/shared/data` (—Å–≤—è–∑—å ID —Å –ø—É—Ç—è–º–∏).

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **Zod Validation**: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤ API.
- **Global Error Boundary**: –ò–∑–æ–ª—è—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ UI.
- **Toast System**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

## üåç –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (i18n)
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –ü–µ—Ä–µ–≤–æ–¥—ã (`ru`, `en`, `de`) –≤ `packages/shared/locales`.
- **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ï–¥–∏–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–∞.

## üì° –°–µ—Ç–µ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (Resilience)
- **Reconnection logic**: –ê–≤—Ç–æ-–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WebSockets –≤ Survival Mode.
- **State Reconciliation**: –°–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏.

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ CI/CD
- **Docker**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã –Ω–∞ –±–∞–∑–µ `oven/bun`.
- **CI/CD**: GitHub Actions –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤, –ª–∏–Ω—Ç–∏–Ω–≥–∞ –∏ —Ç–µ—Å—Ç–æ–≤.

## üõ†Ô∏è Developer Experience (DevX)
- **Root Scripts**: –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (`bun dev`).
- **Path Aliases**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `@repo/*` –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

## ÔøΩüìÅ Feature-Sliced Design (FSD)
–ú—ã —Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ FSD (`entities`, `features`, `widgets`, `pages`, `shared`, `app`, `processes`).
- **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞.
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `eslint-plugin-boundaries` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏.
- **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ `selectedPoint` –∏ `selectedPointId`).

## üó∫Ô∏è –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Checklist)

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
    - [ ] `bun init -y` –≤ –∫–æ—Ä–Ω–µ.
    - [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `workspaces` –≤ `package.json`.
    - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `tsconfig.json` —Å –∞–ª–∏–∞—Å–∞–º–∏ –¥–ª—è `@repo/shared`.
- [ ] **Shared Package**
    - [ ] –°–æ–∑–¥–∞–Ω–∏–µ `packages/shared` –¥–ª—è Zod-—Å—Ö–µ–º, —Ç–∏–ø–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç.
    - [ ] **Logger Implementation**: –°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞ –≤ `packages/shared/lib/logger.ts`.
    - [ ] **Localization**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–≤–∞—Ä–µ–π –ø–µ—Ä–µ–≤–æ–¥–æ–≤.
    - [ ] –í—ã–Ω–æ—Å –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥–æ–ª–æ—Å–∞—Ö, —Å–∏—Å—Ç–µ–º—ã XP, –∞—Å—Å–µ—Ç—ã).
- [ ] **Ops & Config**
    - [ ] –°–æ–∑–¥–∞–Ω–∏–µ Docker-—Ñ–∞–π–ª–æ–≤ –∏ CI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
    - [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ `.env.example` (Clerk, Mapbox, Redis).

### –§–∞–∑–∞ 2: –ë—ç–∫–µ–Ω–¥ (Apps/Server)
- [ ] **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Elysia**
    - [ ] `bun create elysia apps/server`.
    - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ **Eden Treaty** –¥–ª—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ API.
- [ ] **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
    - [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ **bun:sqlite** –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ **Drizzle ORM**.
    - [ ] –ù–∞–ø–∏—Å–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (—Ç–∞–±–ª–∏—Ü—ã `users`, `scenarios`, `items`, `map_points`).
- [ ] **–°–µ—Ä–≤–∏—Å—ã –∏ Real-time**
    - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Redis –¥–ª—è Pub/Sub (Survival Mode).
    - [ ] Middleware –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ **Clerk**.

### –§–∞–∑–∞ 3: –§—Ä–æ–Ω—Ç–µ–Ω–¥ (Apps/Web)
- [ ] **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Vite**
    - [ ] `bun create vite apps/web --template react-ts`.
    - [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ React 19, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ **TanStack Query** –∏ **Zustand**.
- [ ] **–°–ª–æ–∏ FSD**
    - [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫ `src/app`, `pages`, `widgets`, `features`, `entities`, `shared`.
- [ ] **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**
    - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ **Tailwind CSS v4**.
    - [ ] –ü–µ—Ä–µ–Ω–æ—Å UI-–∫–∏—Ç–∞ (Button, Badge, Glassmorphism —ç—Ñ—Ñ–µ–∫—Ç—ã).

### –§–∞–∑–∞ 4: –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- [ ] **Visual Novel**: –ü–µ—Ä–µ–Ω–æ—Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ —Å–∞–º–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤ `packages/shared`.
- [ ] **–ö–∞—Ä—Ç–∞**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Mapbox GL JS –∏ Turf.js, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ç–æ—á–µ–∫.
- [ ] **–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è drag-and-drop –Ω–∞ `@dnd-kit` —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä.
- [ ] **–ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ü–µ—Ä–µ–Ω–æ—Å –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ —Ö–æ–¥–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–π.
- [ ] **Resilience Logic**: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Survival Mode.

### –§–∞–∑–∞ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫
- [ ] **Unit-—Ç–µ—Å—Ç—ã**: –ü–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ª–æ–≥–∏–∫–∏ —á–µ—Ä–µ–∑ `bun test`.
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∫–∏ Web -> Server —á–µ—Ä–µ–∑ Eden.
- [ ] **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä–∫–∞ HMR –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ SQLite.

---

> [!NOTE]
> –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞SQLite –æ–±–ª–µ–≥—á–∏—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –Ω–æ –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ Postgres –≤ –±—É–¥—É—â–µ–º –∑–∞ —Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Drizzle ORM.
